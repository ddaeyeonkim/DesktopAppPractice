<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script src=" https://cdn.jsdelivr.net/npm/requirejs@2.3.7/require.min.js "></script>

    <link
            href="https://cdn.jsdelivr.net/npm/monaco-editor@0.52.0/min/vs/editor/editor.main.min.css "
            rel="stylesheet"
    />
    <style>
        #editorContainer {
          width: 100%;
          height: 80%;
        }
    </style>
</head>
<body>
<div id="editorContainer"></div>
<button id="addCodeBtn">코드 추가</button>
<button id="getCodeBtn">코드 가져오기</button>

<!-- Monaco Editor 라이브러리 -->
<script src="https://cdn.jsdelivr.net/npm/monaco-editor@0.52.0/min/vs/editor/editor.main.min.js"></script>

<script>
    // Monaco Editor 로드
    require.config({
      paths: {
        vs: "https://cdn.jsdelivr.net/npm/monaco-editor@0.52.0/min/vs",
      },
    });
    window.MonacoEnvironment = {
      getWorkerUrl: function (workerId, label) {
        switch (label) {
          case "json":
            return "https://cdn.jsdelivr.net/npm/monaco-editor@0.52.0/min/vs/language/json/jsonWorker.js";
          default:
            return `data:text/javascript;charset-8,importScripts('https://cdn.jsdelivr.net/npm/monaco-editor@0.52.0/min/vs/base/worker/workerMain.min.js');`;
        }
      },
    };
</script>

<script>
    let editor;

    function setTheme(theme) {
      monaco.editor.setTheme(theme);
    }

    require(["vs/editor/editor.main"], function () {
      monaco.languages.json.jsonDefaults.setDiagnosticsOptions({
        validate: false,
      });

      setTheme("vs-dark");

      // 에디터 초기화
      editor = monaco.editor.create(
        document.getElementById("editorContainer"),
        {
          value: ["{", '  "name": "John",', '  "age": 30', "}"].join("\n"),
          language: "json",
        }
      );
    });

    function updateCode(newCode) {
      editor.setValue(newCode);
    }

    function getCode() {
      return editor.getValue();
    }

    // document.getElementById("addCodeBtn").addEventListener("click", addCode);
    // document.getElementById("getCodeBtn").addEventListener("click", getCode);
</script>
</body>
</html>
